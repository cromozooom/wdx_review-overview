<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ .Title }}</title>
    {{/* styles */}} {{/* Load Bootstrap SCSS. */}} {{ $options := dict
    "enableSourceMap" true }} {{ if hugo.IsProduction}} {{ $options := dict
    "enableSourceMap" false "outputStyle" "compressed" }} {{ end }} {{ $styles
    := resources.Get "scss/styles.scss" }} {{ $styles = $styles |
    resources.ToCSS $options }} {{ if hugo.IsProduction }} {{ $styles = $styles
    | fingerprint }} {{ end }}
    <link href="{{ $styles.RelPermalink }}" rel="stylesheet" />

    {{/* Load Bootstrap JS. */}} {{ $js := resources.Get "js/index.js" }} {{
    $params := dict }} {{ $sourceMap := cond hugo.IsProduction "" "inline" }} {{
    $opts := dict "sourceMap" $sourceMap "minify" hugo.IsProduction "target"
    "es2018" "params" $params }} {{ $js = $js | js.Build $opts }}
    <script
      src="{{ $js.RelPermalink }}"
      {{
      if
      hugo.IsProduction
      }}integrity="{{ $js.Data.Integrity }}"
      {{
      end
      }}
      defer
    ></script>

    <script defer src="/js/cdn.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
  </head>
  <body
    x-data="entityComponent()"
    x-init="loadData(); "
    class="w-100 h-100 d-flex"
  >
    <template x-if="activeUser === 'Razvan Nicu'">
      <div
        x-ref="draggableElement"
        class="draggable d-flex align-items-center rounded shadow-md p-1 ps-2 text-bg-brand overflow-visible text-center"
        @mousedown="startDrag"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 128 512"
          fill="currentColor"
        >
          <use xlink:href="#fas-ellipsis-vertical"></use>
        </svg>
        <div class="flex justify-center">
          <div
            x-data="{
                  open: false,
                  toggle() {
                      if (this.open) {
                          return this.close()
                      }
      
                      this.$refs.button.focus()
      
                      this.open = true
                  },
                  close(focusAfter) {
                      if (! this.open) return
      
                      this.open = false
      
                      focusAfter &amp;&amp; focusAfter.focus()
                  }
              }"
            x-on:keydown.escape.prevent.stop="close($refs.button)"
            x-on:focusin.window="! $refs.panel.contains($event.target) &amp;&amp; close()"
            x-id="['dropdown-button']"
            class="relative"
          >
            <!-- Button -->
            <button
              x-ref="button"
              x-on:click="toggle()"
              :aria-expanded="open"
              :aria-controls="$id('dropdown-button')"
              type="button"
              class="d-flex btn btn-lik link-nav align-items-center gap-1 px-2 py-2 text-bg-brand"
              aria-expanded="false"
              aria-controls="dropdown-button-1"
            >
              Tools

              <!-- Heroicon: chevron-down -->
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 text-gray-400"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </button>

            <!-- Panel -->
            <div
              x-ref="panel"
              x-show="open"
              x-transition.origin.top.left=""
              x-on:click.outside="close($refs.button)"
              :id="$id('dropdown-button')"
              style="display: none"
              class="position-absolute rounded shadow p-1 text-bg-brand pannel"
              id="dropdown-button-1"
            >
              <button
                x-tooltip="Show multi forms"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                @click="toggleBoolean('showForms'); calculateDragDropPosition()"
                x-text="showForms ? 'Hide Forms' : 'Show Forms'"
              ></button>

              <button
                x-tooltip="Reset data from all entities"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                @click="purgeData"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="currentColor"
                  class="bi bi-bootstrap-reboot"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M1.161 8a6.84 6.84 0 1 0 6.842-6.84.58.58 0 1 1 0-1.16 8 8 0 1 1-6.556 3.412l-.663-.577a.58.58 0 0 1 .227-.997l2.52-.69a.58.58 0 0 1 .728.633l-.332 2.592a.58.58 0 0 1-.956.364l-.643-.56A6.8 6.8 0 0 0 1.16 8z"
                  />
                  <path
                    d="M6.641 11.671V8.843h1.57l1.498 2.828h1.314L9.377 8.665c.897-.3 1.427-1.106 1.427-2.1 0-1.37-.943-2.246-2.456-2.246H5.5v7.352zm0-3.75V5.277h1.57c.881 0 1.416.499 1.416 1.32 0 .84-.504 1.324-1.386 1.324z"
                  />
                </svg>
                Purge
              </button>

              <button
                x-tooltip="Full screen widget"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                @click="toggleBoolean('widgetOnly')"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-arrows-fullscreen"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"
                  />
                </svg>
                WidgetOnly
              </button>

              <button
                x-tooltip="Duplicate current entity"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                @click="duplicateEntity"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="currentColor"
                  class="bi bi-copy"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"
                  />
                </svg>
                Duplicate
              </button>

              <button
                x-tooltip="Upload your data"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                @click="downloadData"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="currentColor"
                  class="bi bi-cloud-arrow-down"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.646 10.854a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 9.293V5.5a.5.5 0 0 0-1 0v3.793L6.354 8.146a.5.5 0 1 0-.708.708z"
                  />
                  <path
                    d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"
                  />
                </svg>
                JSON
              </button>
              <label
                x-tooltip="Download your data"
                class="d-flex btn btn-link nav-link flex-nowrap min-width-10erm align-items-center gap-3 w-100 px-2 py-2 text-left text-sm"
                for="uploadInput"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  fill="currentColor"
                  class="bi bi-cloud-arrow-up"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708z"
                  />
                  <path
                    d="M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383m.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"
                  />
                </svg>
                JSON</label
              >
              <input
                type="file"
                id="uploadInput"
                @change="uploadData"
                class="form-control-file d-none"
              />
            </div>
          </div>
        </div>
      </div>
    </template>

    {{ partial "svg.html" . }}
    <template x-if="!widgetOnly">
      <template x-if="showSideNav">
        <nav class="h-100 p-2 border-end bg-light d-flex flex-column">
          <ul class="list-unstyled">
            <li>
              <button class="border-0 btn btn-link btn-lg bg-transparent">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-house"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"
                  />
                </svg>
              </button>
            </li>
            <li>
              <button class="border-0 btn btn-link btn-lg bg-transparent">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-speedometer"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2M3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707M2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8m9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5m.754-4.246a.39.39 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.39.39 0 0 0-.029-.518z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.95 11.95 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0"
                  />
                </svg>
              </button>
            </li>
            <li>
              <button class="border-0 btn btn-link btn-lg bg-transparent">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-backspace-reverse"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M9.854 5.146a.5.5 0 0 1 0 .708L7.707 8l2.147 2.146a.5.5 0 0 1-.708.708L7 8.707l-2.146 2.147a.5.5 0 0 1-.708-.708L6.293 8 4.146 5.854a.5.5 0 1 1 .708-.708L7 7.293l2.146-2.147a.5.5 0 0 1 .708 0"
                  />
                  <path
                    d="M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7.08a2 2 0 0 0 1.519-.698l4.843-5.651a1 1 0 0 0 0-1.302L10.6 1.7A2 2 0 0 0 9.08 1zm7.08 1a1 1 0 0 1 .76.35L14.682 8l-4.844 5.65a1 1 0 0 1-.759.35H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"
                  />
                </svg>
              </button>
            </li>
            <li>
              <button class="border-0 btn btn-link btn-lg bg-transparent">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-bag"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"
                  />
                </svg>
              </button>
            </li>
          </ul>
        </nav>
      </template>
    </template>
    <div class="d-flex flex-column w-100">
      <header class="d-flex flex-column">
        <template x-if="!widgetOnly">
          <div>
            <section
              class="text-bg-primary p-2 d-flex justify-content-between align-items-center border-bottom"
            >
              <nav class="d-flex gap-2 align-items-center">
                <button
                  x-show="!showBannerInfo"
                  class="btn btn-brand"
                  @click="showBannerInfo = !showBannerInfo"
                >
                  Show info
                </button>
                <h1 class="m-0">WDX1 - Review Overview</h1>
              </nav>
              <div class="d-flex align-items-center gap-1">
                <select
                  class="form-select"
                  aria-label="Default select example"
                  x-model="activeUser"
                  @change="saveActiveUser"
                >
                  <template x-for="user in users" :key="user.name">
                    <option
                      :value="user.name"
                      x-text="user.name"
                      :selected="user.name === activeUser"
                    ></option>
                  </template>
                </select>
                <button
                  @click="toggleLightMode()"
                  class="btn btn-link nav-link px-2 d-flex align-items-center"
                >
                  <svg
                    x-show="lightMode"
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-arrow-right-short"
                    viewBox="0 0 512 512"
                  >
                    <use xlink:href="#fas-sun-bright"></use>
                  </svg>
                  <svg
                    x-show="!lightMode"
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-arrow-right-short"
                    viewBox="0 0 512 512"
                  >
                    <use xlink:href="#fas-moon-stars"></use>
                  </svg>
                </button>
              </div>
            </section>
            <div class="bannerInfo" style="--bs-bg-opacity: 0.8">
              <button
                class="bannerInfo--button btn btn-brand"
                @click="showBannerInfo = !showBannerInfo"
              >
                Hide info
              </button>
              <template x-if="showBannerInfo">
                <div
                  class="p-2 text-bg-primary overflow-hidden banner-height d-flex justify-content-center align-items-center"
                >
                  <div
                    class="d-flex justify-content-center flex-column align-items-center"
                  >
                    <strong> Banner Info </strong>
                    <small> hover me please ... </small>
                  </div>
                </div>
              </template>
            </div>
            <div class="border-bottom bg-body">
              <nav class="d-flex tab-nav">
                <strong class="px-3 py-3 border-end"> Overview </strong>
                <strong class="px-3 py-3 border-end"> Chat Box </strong>
                <strong class="px-3 py-3 active border-end text-bg-brand">
                  Approval overview
                </strong>
                <strong class="px-3 py-3 border-end">
                  Individual Details
                </strong>
                <strong class="px-3 py-3 border-end">
                  Commercial context details
                </strong>
                <strong class="px-3 py-3 border-end"> Account details </strong>
              </nav>
            </div>
          </div>
        </template>
      </header>
      <main
        class="flex-grow-1 overflow-hidden d-flex p-2 bg-dark"
        style="--bs-bg-opacity: 0.05"
      >
        <div
          class="d-flex flex-column border rounded bg-white overflow-hidden w-100"
        >
          <template x-if="switchColumns">
            <main class="d-flex flex-grow-1 overflow-hidden w-100">
              {{ partial "review.html" . }} {{ partial "summary.html" . }}
            </main>
          </template>
          <template x-if="!switchColumns">
            <main class="d-flex flex-grow-1 overflow-hidden w-100">
              {{ partial "summary.html" . }} {{ partial "review.html" . }}
            </main>
          </template>
        </div>
      </main>
    </div>

    {{ partial "script.html" . }}
  </body>
</html>
